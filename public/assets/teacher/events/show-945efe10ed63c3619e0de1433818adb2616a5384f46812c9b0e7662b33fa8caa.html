<header class="page__header" ng-class="&#39;scheme-&#39; + event.course.order"><div class="row"><div class="small-3 columns"><a class="back__button button transparent secondary icon__button" ui-sref="courses.show.calendar({course: event.course, month: event.start_at})"><i class="icon icon-arrow-back"></i> <span class="hide-for-small">Voltar</span></a></div><div class="small-6 columns"><h2 class="page__header__title">{{event.course.name}}</h2><ul class="page__header__subtitle"><li ng-if="!!event.course.institution">{{event.course.institution}}</li><li ng-if="!!event.formatted_classroom">{{event.formatted_classroom}}</li><li ng-if="!!event.course.grade">{{event.course.grade}}</li></ul></div><div class="small-3 columns text-right"><a class="button transparent secondary icon__button small hide__personal__topics" ng-click="setPrivateTopicsVisibility(false)" ng-show="showPrivateTopics"><i class="icon icon-private"></i> <span class="hide-for-small">Ocultar conteúdo privado</span></a><a class="button transparent secondary icon__button small show__personal__topics" ng-click="setPrivateTopicsVisibility(true)" ng-show="!showPrivateTopics"><i class="icon icon-eye"></i> <span class="hide-for-small">Mostrar conteúdo privado</span></a></div></div></header><div class="diary__page"><div class="row event__status medium-collapse"><div class="small-12 medium-2 medium-offset-3 columns"><div class="event__uncancel" ng-if="event.status == &#39;canceled&#39;"><span class="event__cancelled">Aula Cancelada</span><br /><small><a class="event__uncancel__link" ng-click="setStatus(event, &#39;draft&#39;)">Desfazer</a> <span>(Aula ficará Despublicada)</span></small></div><a class="event__cancel__link button alert transparent no__side__padding tiny" ng-click="setStatus(event, &#39;canceled&#39;)" ng-if="event.status != &#39;canceled&#39;">Cancelar Aula</a><br /></div><div class="small-12 medium-4 columns end event__status__group"><span class="hidden-for-small" ng-if="event.status != &#39;canceled&#39;">Status da aula:</span><ul class="button-group round"><li><a class="button tiny event__status__button event__status__draft" ng-class="{event__status__current: event.status == &#39;draft&#39;}" ng-click="setStatus(event, &#39;draft&#39;)" ng-disabled="event.status == &#39;canceled&#39;"><div class="status__icon status__icon__draft"></div> Despublicada</a></li><li><a class="button tiny event__status__button event__status__published" ng-class="{event__status__current: event.status == &#39;published&#39;}" ng-click="setStatus(event, &#39;published&#39;)" ng-disabled="event.status == &#39;canceled&#39;">Publicada <div class="status__icon status__icon__published"></div></a></li></ul></div></div><div class="row collapse"><div class="hide-for-small medium-3 columns"><a analytics-course-name="{{event.course.name}}" analytics-course-uuid="{{event.course.uuid}}" analytics-event="Event Navigation" analytics-name="previous" analytics-on="click" analytics-start-at="{{event.start_at}}" analytics-uuid="{{event.uuid}}" class="previous__event" ng-if="!!event.previous.start_at" ui-sref="{startAt: event.previous.start_at, courseId: event.course.uuid}"><i class="icon icon-chevron-left"></i><span>{{event.previous.start_at | date:'EEE, dd/MMMM'}}</span></a><div class="summary__tasks previous__event__tasks"><div class="summary__task event__canceled" ng-if="event.previous.status === &#39;canceled&#39;">Aula cancelada.</div><div class="summary__task empty__results" ng-if="event.previous.topics.length === 0">Nenhum conteúdo cadastrado.</div><div class="summary__task" ng-class="{personal: topic.personal}" ng-hide="topic.personal &amp;&amp; !showPrivateTopics" ng-repeat="topic in event.previous.topics"><a ng-href="{{topic.media.url}}" ng-if="!!topic.media" target="_blank"><i class="type icon" ng-class="&#39;icon-&#39; + topic.media.type"></i></a><span>{{topic.description}}</span></div></div></div><div class="small-12 medium-6 columns"><div class="row small-collapse diary__header" ng-class="{event__cancelled: event.status == &#39;canceled&#39;, event__published: event.status == &#39;published&#39;}"><div class="show-for-small small-1 columns"><a analytics-course-name="{{event.course.name}}" analytics-course-uuid="{{event.course.uuid}}" analytics-event="Event Navigation" analytics-name="previous" analytics-on="click" analytics-start-at="{{event.start_at}}" analytics-uuid="{{event.uuid}}" class="previous__event mobile__day__navigation" ng-if="!!event.previous.start_at" ui-sref="{ startAt: event.previous.start_at, courseId: event.course.uuid }"><i class="icon icon-chevron-left"></i></a></div><div class="small-5 medium-6 columns diary__date">{{event.start_at | date:'EEE, dd/MMMM'}}</div><div class="small-5 medium-6 columns diary__time"><i class="icon icon-clock"></i> <span>{{event.start_at | date:'HH:mm'}} às {{event.end_at | date:'HH:mm'}}</span></div><div class="show-for-small small-1 columns"><a analytics-course-name="{{event.course.name}}" analytics-course-uuid="{{event.course.uuid}}" analytics-event="Event Navigation" analytics-name="next" analytics-on="click" analytics-start-at="{{event.start_at}}" analytics-uuid="{{event.uuid}}" class="next__event mobile__day__navigation" ng-if="!!event.next.start_at" ui-sref="{ startAt: event.next.start_at, courseId: event.course.uuid }"><i class="icon icon-chevron-right"></i></a></div></div><div class="row" event-list="topics" id="topics-container"><div class="new__topic__form small-12 columns" ng-controller="NewTopicCtrl" ng-if="event.status != &#39;canceled&#39;"><ul class="small-block-grid-4 tabs select__item__type"><li><a ng-class="{active: topicType == &#39;text&#39;}" ng-click="selectTopicType(&#39;text&#39;)"><i class="icon icon-text"></i><small class="hide-for-small">Texto</small></a></li><li><a ng-class="{active: topicType == &#39;file&#39;}" ng-click="selectTopicType(&#39;file&#39;)"><i class="icon icon-file"></i><small class="hide-for-small">Arquivo</small></a></li><li><a ng-class="{active: topicType == &#39;url&#39;}" ng-click="selectTopicType(&#39;url&#39;); startUrlMediaEditing()"><i class="icon icon-url"></i><small class="hide-for-small">Link</small></a></li><li><a ng-class="{active: topicType == &#39;catalog&#39;}" ng-click="selectTopicType(&#39;catalog&#39;)"><i class="icon icon-catalog"></i><small class="hide-for-small">Catálogo</small></a></li></ul><div class="item__type" ng-show="topicType != null"><div class="type type__text" ng-controller="NewTextTopicCtrl" ng-show="topicType == &#39;text&#39;"><form name="textTopicForm" ng-controller="TopicAttributesCtrl"><input class="field__new__list__item" focus-on="topicType == &#39;text&#39;" focus-wrapper="" name="description" ng-model="topic.description" placeholder="Adicionar conteúdo" type="text" ui-keydown="{&#39;enter&#39;:&#39;addTopic()&#39;}" /></form></div><div class="type type__file" ng-controller="NewFileMediaCtrl" ng-show="topicType == &#39;file&#39;"><form name="fileMediaForm" ng-show="status == &#39;newMedia&#39;"><p>Enviar foto, vídeo ou documento<br /><small>(Máximo 50Mb)</small></p><label class="item__button media__file__button small radius button" for="topic-file">Buscar arquivo</label><input class="file__input" id="topic-file" name="file" ng-file-model="" ng-file-select="submitFileMedia($files)" ng-model="media_file" type="file" /></form><div class="type type__media" ng-controller="TopicAttributesCtrl" ng-show="status == &#39;createdMedia&#39;"><preview item="topic" removable="true"></preview><form name="fileTopicForm"><input class="field__new__list__item" focus-on="topicType == &#39;file&#39; &amp;&amp; status == &#39;createdMedia&#39;" focus-wrapper="" name="description" ng-model="topic.description" placeholder="Adicionar conteúdo" type="text" ui-keydown="{&#39;enter&#39;:&#39;addTopic()&#39;}" /></form></div><progress-bar></progress-bar></div><div cg-busy="submittingMediaPromise" class="type type__url" ng-controller="NewUrlMediaCtrl" ng-show="topicType == &#39;url&#39;"><form name="urlMediaForm"><input focus-on="topicType == &#39;url&#39; &amp;&amp; !media" name="url" ng-model="url" ng-show="!media" placeholder="Escreva ou cole o link aqui" type="text" ui-keydown="{&#39;enter&#39;:&#39;submitUrlMedia()&#39;}" /></form><div class="media" ng-controller="TopicAttributesCtrl" ng-show="!!media"><preview item="topic" removable="true"></preview><form name="urlTopicForm"><input class="field__new__list__item" focus-on="topicType == &#39;url&#39; &amp;&amp; !!media" focus-wrapper="" name="description" ng-model="topic.description" placeholder="Adicionar conteúdo" type="text" ui-keydown="{&#39;enter&#39;:&#39;addTopic()&#39;}" /></form></div></div><div class="type type__catalog" ng-controller="AddFromMediaCtrl" ng-show="topicType == &#39;catalog&#39;"><span ng-controller="TopicAttributesCtrl"></span><ng-form name="catalogTopicForm"><div class="catalog__header"><div class="catalog__search"><i class="icon icon-search"></i><input focus-on="topicType == &#39;catalog&#39;" ng-model="search.q" placeholder="Procure por assunto, palavra-chave ou tags" type="text" ui-keydown="{&#39;enter&#39;:&#39;fetch($event)&#39;}" /></div></div><div class="catalog__medias"><div class="catalog__media" ng-repeat="media in medias"><input class="media__select" id="{{media.uuid}}" ng-change="selectMedia()" ng-model="result.media" ng-value="media" type="radio" /><label class="media__select__label" for="{{media.uuid}}"></label><div class="media__contents"><span class="media__data"><strong class="media__title">{{media.title}}</strong><a class="media__url" ng-href="{{media.url}}" target="_blank"><i class="media__type__icon icon" ng-class="&#39;icon-&#39; + media.type"></i> <span>{{formatMediaUrl(media)}}</span></a></span></div></div></div><div class="load__more" ng-if="next_page"><a cg-busy="loadingNextPage" class="load__more__media" ng-click="paginate(next_page)" ng-if="next_page">Carregar mais&hellip;</a></div></ng-form></div><ng-include src="&#39;/assets/topics/new_topic_actions-7bec34972f64cd7b2fc8d78862b8b79b31f77f337ec5f3598a8b4e9c2ee200d9.html&#39;"></ng-include></div></div><div class="topics" id="topics-list" ng-model="event.topics" ui-sortable="sortableOptions(&#39;topics&#39;)"><div class="topic empty__results" ng-if="event.topics.length === 0 &amp;&amp; event.status != &#39;canceled&#39;">Adicione conteúdos para essa aula.</div><div class="topic empty__results" ng-if="event.status === &#39;canceled&#39;">Para adicionar conteúdos pressione "Desfazer" para tornar a aula despublicada.</div><div class="topic clickable" ng-class="{done: topic.done, personal: topic.personal}" ng-controller="TopicEditCtrl" ng-hide="topic.personal &amp;&amp; !showPrivateTopics" ng-repeat="topic in event.topics | filter:{_destroy:&#39;!true&#39;}"><div class="topic__wrapper" ng-show="!isEditing(topic)"><div class="handle topic__handle"><i class="icon icon-handle"></i></div><div class="topic__status"><input class="topic__status" id="topic_{{topic.uuid}}_done" ng-change="save(topic)" ng-model="topic.done" type="checkbox" /><label class="topic__status__checkbox" for="topic_{{topic.uuid}}_done"><i class="icon icon-check"></i></label></div><a class="topic__image" ng-href="{{topic.media.url}}" ng-if="!!topic.media" target="_blank"><span ng-style="{ &#39;background-image&#39;: &#39;url(&#39; + topic.media.thumbnail + &#39;)&#39; }"></span></a><div class="topic__description" ng-class="{preview: !!topic.media}">{{topic.description}}<a class="topic__url" ng-href="{{topic.media.url}}" ng-show="topic.media.type == &#39;url&#39;" target="_blank" title="{{topic.media.url}}">{{topic.media.url}}</a></div><zf-action-sheet class="topic__actions" close-action-sheet-on-click=""><zf-as-button class="topic__actions__button">…</zf-as-button><zf-as-content position="top"><ul class="topic__actions__list"><li><a ng-click="startEditing(topic)" title="Editar tópico"><i class="icon icon-pencil"></i> Editar</a></li><li><a ng-click="removeTopic(topic)" title="Remover conteúdo"><i class="icon icon-trash"></i> Apagar</a></li><li ng-if="canTransferTopic(topic, event)"><a ng-click="transferTopic(topic)" title="Transferir conteúdo para próxima aula"><i class="icon icon-transfer"></i> Transferir</a></li></ul></zf-as-content></zf-action-sheet></div><div class="topic__editing" ng-show="isEditing(topic)"><form name="topicEditForm" ng-submit="finishEditing(topic)"><input class="topic__editing" focus-on="isEditing(topic)" name="description" ng-model="editingTopic.description" on-success="finishEditing(topic)" required="" type="text" /><div class="edit__topic__actions"><a class="cancel button tiny transparent radius" ng-click="cancelEditing(topic)">Cancelar</a><ng-include src="&#39;/assets/topics/topic_edit_personal-33b3d136cd7ee3dc310cb2be39d051b1f064f0e3663855e9b872640c0b6cbf93.html&#39;"></ng-include> <a class="save__edit__topic radius button tiny" ng-class="{disabled: topicEditForm.$invalid, alert: editingTopic.personal}" ng-click="finishEditing(topic)" ng-disabled="topicEditForm.$invalid">Salvar</a></div></form></div></div></div></div></div><div class="hide-for-small medium-3 columns"><a analytics-course-name="{{event.course.name}}" analytics-course-uuid="{{event.course.uuid}}" analytics-event="Event Navigation" analytics-name="next" analytics-on="click" analytics-start-at="{{event.start_at}}" analytics-uuid="{{event.uuid}}" class="next__event" ng-if="!!event.next.start_at" ui-sref="{ startAt: event.next.start_at, courseId: event.course.uuid }"><span>{{event.next.start_at | date:'EEE, dd/MMMM'}}</span><i class="icon icon-chevron-right"></i></a><div class="summary__tasks next__event__tasks"><div class="summary__task event__canceled" ng-if="event.next.status === &#39;canceled&#39;">Aula cancelada.</div><div class="summary__task empty__results" ng-if="event.next.topics.length === 0">Nenhum conteúdo cadastrado.</div><div class="summary__task" ng-class="{personal: topic.personal}" ng-hide="topic.personal &amp;&amp; !showPrivateTopics" ng-repeat="topic in event.next.topics"><a ng-href="{{topic.media.url}}" ng-if="!!topic.media" target="_blank"><i class="type icon" ng-class="&#39;icon-&#39; + topic.media.type"></i></a><span>{{topic.description}}</span></div></div></div></div><tutorial class="tutorial-3" ng-if="tutorialEnabled(3)" on-close="tutorialClosed(3)"><tutorial-step><p>Adicione conteúdo visível para os estudantes e suas anotações privadas.</p></tutorial-step><tutorial-step><p>Adicione links, arquivos ou textos. Estes materiais ficarão disponíveis no catálogo, e podem ser reutilizados em outras aulas.</p></tutorial-step><tutorial-step><p>Publique a aula para que seus estudantes possam visualizá-la.</p></tutorial-step></tutorial></div>