CourseCtrl = ($scope, $modal, course)->
  $scope.course = course

  $scope.openEditCourseForm = ->
    $modal.open
      templateUrl: '<%= asset_path('app/courses/course-edit') %>'
      windowClass: 'edit__course full'
      controller: 'EditCourseCtrl as vm'
      resolve: { course: -> angular.copy($scope.course) }

  $scope.openNotification = ->
    $modal.open
      templateUrl: '<%= asset_path('app/courses/notify/notify-members') %>'
      controller: 'NotificationCtrl as vm'
      windowClass: 'send__notification full'
      resolve: { course: -> $scope.course }

CourseCtrl.$inject = [
  '$scope',
  '$modal',
  'course'
]

angular
  .module('app.courses')
  .controller('CourseCtrl', CourseCtrl)
