previewCtrl = ($scope) ->
  $scope.removeMedia = ->
    if confirm("Deseja remover este anexo? Essa operação não poderá ser desfeita.")
      $scope.$emit('removeMedia')

previewCtrl.$inject = ['$scope']

preview = ->
  restrict: 'E'
  controller: previewCtrl
  templateUrl: '<%= asset_path('app/core/components/preview.html') %>'
  scope:
    item: '='
    removable: '='

angular
  .module('app.lessonPlan')
  .directive('preview', preview)
