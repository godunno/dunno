#= depend_on_asset "students/courses/index.html"
#= depend_on_asset "students/courses/confirm_registration.html"
#= depend_on_asset "students/courses/search.html"

DunnoApp = angular.module 'DunnoAppStudent', ['ngRoute', 'ngResource', 'rails', 'ui.keypress', 'validation.match']

Router = ($routeProvider)->
  $routeProvider.
    when('/courses',                          controller: 'CoursesIndexCtrl', templateUrl: '<%= asset_path('students/courses/index.html') %>').
    when('/courses/:id',                      controller: 'CourseCtrl',       templateUrl: '<%= asset_path('students/courses/show.html') %>').
    when('/courses/:id/confirm_registration', controller: 'CourseCtrl',       templateUrl: '<%= asset_path('students/courses/confirm_registration.html') %>').
    when('/courses/search',                   controller: 'CourseCtrl',       templateUrl: '<%= asset_path('students/courses/search.html') %>').
    when('/profile/edit',                     controller: 'ProfileCtrl',      templateUrl: '<%= asset_path('shared/profile/form.html') %>').
    when('/profile/password/edit',            controller: 'ProfileCtrl',      templateUrl: '<%= asset_path('shared/password/form.html') %>').
    otherwise(redirectTo: '/courses')
Router.$inject = ['$routeProvider']
DunnoApp.config Router

DunnoApp.config(["railsSerializerProvider", (railsSerializerProvider)->
  railsSerializerProvider.underscore(angular.identity).camelize(angular.identity)
])
